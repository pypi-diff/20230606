# Comparing `tmp/yams_cli-3.3.4-py3-none-any.whl.zip` & `tmp/yams_cli-3.3.5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,22 @@
-Zip file size: 32424 bytes, number of entries: 20
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-01 07:56 yams_cli/__init__.py
--rw-r--r--  2.0 unx     1256 b- defN 23-Jun-01 07:56 yams_cli/connection_specs.py
--rw-r--r--  2.0 unx     4590 b- defN 23-Jun-01 07:56 yams_cli/profile.py
--rw-r--r--  2.0 unx     7246 b- defN 23-Jun-01 07:56 yams_cli/utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-01 07:56 yams_cli/logic/__init__.py
--rw-r--r--  2.0 unx    40535 b- defN 23-Jun-01 07:56 yams_cli/logic/args.py
--rw-r--r--  2.0 unx     1944 b- defN 23-Jun-01 07:56 yams_cli/logic/cli.py
--rw-r--r--  2.0 unx    40382 b- defN 23-Jun-01 07:56 yams_cli/logic/dispatcher.py
--rw-r--r--  2.0 unx     1326 b- defN 23-Jun-01 07:56 yams_cli/logic/injection.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-01 07:56 yams_cli/logic/core/__init__.py
--rw-r--r--  2.0 unx     7917 b- defN 23-Jun-01 07:56 yams_cli/logic/core/http_client.py
--rw-r--r--  2.0 unx    41049 b- defN 23-Jun-01 07:56 yams_cli/logic/core/manager.py
--rw-r--r--  2.0 unx     1124 b- defN 23-Jun-01 07:56 yams_cli/logic/core/models.py
--rw-r--r--  2.0 unx      828 b- defN 23-Jun-01 07:56 yams_cli/logic/exceptions/YamsException.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-01 07:56 yams_cli/logic/exceptions/__init__.py
--rw-r--r--  2.0 unx     9848 b- defN 23-Jun-01 07:57 yams_cli-3.3.4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-01 07:57 yams_cli-3.3.4.dist-info/WHEEL
--rw-r--r--  2.0 unx       49 b- defN 23-Jun-01 07:57 yams_cli-3.3.4.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-Jun-01 07:57 yams_cli-3.3.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1653 b- defN 23-Jun-01 07:57 yams_cli-3.3.4.dist-info/RECORD
-20 files, 159848 bytes uncompressed, 29714 bytes compressed:  81.4%
+Zip file size: 32643 bytes, number of entries: 20
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/__init__.py
+-rw-r--r--  2.0 unx     1256 b- defN 23-Jun-06 06:09 yams_cli/connection_specs.py
+-rw-r--r--  2.0 unx     4590 b- defN 23-Jun-06 06:09 yams_cli/profile.py
+-rw-r--r--  2.0 unx     7246 b- defN 23-Jun-06 06:09 yams_cli/utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/logic/__init__.py
+-rw-r--r--  2.0 unx    40535 b- defN 23-Jun-06 06:09 yams_cli/logic/args.py
+-rw-r--r--  2.0 unx     1944 b- defN 23-Jun-06 06:09 yams_cli/logic/cli.py
+-rw-r--r--  2.0 unx    40760 b- defN 23-Jun-06 06:09 yams_cli/logic/dispatcher.py
+-rw-r--r--  2.0 unx     1326 b- defN 23-Jun-06 06:09 yams_cli/logic/injection.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/logic/core/__init__.py
+-rw-r--r--  2.0 unx     8186 b- defN 23-Jun-06 06:09 yams_cli/logic/core/http_client.py
+-rw-r--r--  2.0 unx    41176 b- defN 23-Jun-06 06:09 yams_cli/logic/core/manager.py
+-rw-r--r--  2.0 unx     1124 b- defN 23-Jun-06 06:09 yams_cli/logic/core/models.py
+-rw-r--r--  2.0 unx      828 b- defN 23-Jun-06 06:09 yams_cli/logic/exceptions/YamsException.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 06:09 yams_cli/logic/exceptions/__init__.py
+-rw-r--r--  2.0 unx     9848 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/WHEEL
+-rw-r--r--  2.0 unx       49 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1653 b- defN 23-Jun-06 06:11 yams_cli-3.3.5.dist-info/RECORD
+20 files, 160622 bytes uncompressed, 29933 bytes compressed:  81.4%
```

## zipnote {}

```diff
@@ -39,23 +39,23 @@
 
 Filename: yams_cli/logic/exceptions/YamsException.py
 Comment: 
 
 Filename: yams_cli/logic/exceptions/__init__.py
 Comment: 
 
-Filename: yams_cli-3.3.4.dist-info/METADATA
+Filename: yams_cli-3.3.5.dist-info/METADATA
 Comment: 
 
-Filename: yams_cli-3.3.4.dist-info/WHEEL
+Filename: yams_cli-3.3.5.dist-info/WHEEL
 Comment: 
 
-Filename: yams_cli-3.3.4.dist-info/entry_points.txt
+Filename: yams_cli-3.3.5.dist-info/entry_points.txt
 Comment: 
 
-Filename: yams_cli-3.3.4.dist-info/top_level.txt
+Filename: yams_cli-3.3.5.dist-info/top_level.txt
 Comment: 
 
-Filename: yams_cli-3.3.4.dist-info/RECORD
+Filename: yams_cli-3.3.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## yams_cli/logic/dispatcher.py

```diff
@@ -1020,15 +1020,25 @@
     @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def video_processing_start(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
         object_id = args['object_id']
         rule_id = args['rule_id']
-        self.show_result(self._manager.start_video_processing(self.tenant_id, domain_id, bucket_id, object_id, rule_id))
+        result = self._manager.start_video_processing(self.tenant_id, domain_id, bucket_id, object_id, rule_id)
+
+        if result["status"] == 303:
+            print("\nTranscoding already in progress or completed.")
+        else:
+            print("Transcoding accepted")
+
+        print("Check job status with the following command:\n")
+        print(f"yams video-processing status --domain-id {domain_id} --bucket-id {bucket_id} "
+              f"--object-id {object_id} --rule-id {rule_id}\n")
+
         return True
 
     @latest_version_warning
     @dispatcher_exception_safe(Exception)
     def video_processing_status(self, args):
         domain_id = args['domain_id']
         bucket_id = args['bucket_id']
```

## yams_cli/logic/core/http_client.py

```diff
@@ -23,19 +23,20 @@
 class HttpClient(object):
     @inject
     def __init__(self, connection_specs: ConnectionSpecs, profile: Profile):
         self._jwt_algorithm = connection_specs.get_connection_value('jwt_algorithm')
         self._profile = profile
 
     def execute_mgmt_request(self, method, url, origin_path, payload=None, json_content=None, data=None,
-                             query_params=None, headers=None):
+                             query_params=None, headers=None, allow_redirects=True):
         """ Execute the proper request against the Management API.
         It's Management API specific only to notice we don't have proper requests to Fetch API, we only build them.
         :param query_params:
         :param headers:
+        :param allow_redirects: boolean
         :param method: String.
         :param url: String. Url to execute the request to
         :param origin_path: String. Path we are accessing (to build the rqs in jwt payload)
         :param payload: JSON.
         :param json_content: JSON.
         :param data: Binary.
         :return:
@@ -47,19 +48,22 @@
         params = self.get_mgmt_auth_params(method, origin_path, payload)
 
         headers["X-YAMS-ERROR"] = "True"
         if query_params:
             params.update(query_params)
 
         if data and method in WITH_DATA_METHODS:
-            return requests.request(method=method, url=url, headers=headers, params=params, data=data)
+            return requests.request(method=method, url=url, headers=headers, params=params,
+                                    data=data, allow_redirects=allow_redirects)
         elif json_content is not None and method in WITH_DATA_METHODS:
-            return requests.request(method=method, url=url, headers=headers, params=params, json=json_content)
+            return requests.request(method=method, url=url, headers=headers, params=params,
+                                    json=json_content, allow_redirects=allow_redirects)
         else:
-            return requests.request(method=method, url=url, headers=headers, params=params)
+            return requests.request(method=method, url=url, headers=headers, params=params,
+                                    allow_redirects=allow_redirects)
 
     @staticmethod
     def get_content(response):
         if response.content and len(response.content) > 0:
             return response.json()
         else:
             return {}
```

## yams_cli/logic/core/manager.py

```diff
@@ -107,24 +107,26 @@
         self._api_version = connection_specs.get_connection_value('api_version')
         self._http_client = http_client
         self._max_input_size_before_chunking = from_mib_to_bytes(max_input_size_before_chunking)
         self._chunk_size = from_mib_to_bytes(chunk_size)
 
     @exception_safe(ConnectionError)
     def _mgmt_request(self, method, path, headers=None, payload=None, data=None, json_content=None, query_params=None,
-                      log_request=True):
+                      log_request=True, allow_redirects=True):
         if payload is None:
             payload = {}
         if log_request:
             self.log_request(method, path)
         url = "{}/{}{}".format(self._management_url, self._api_version, path)
+
         response = self._http_client.execute_mgmt_request(method, url, path,
                                                           payload=payload,
                                                           json_content=json_content, data=data,
-                                                          query_params=query_params, headers=headers)
+                                                          query_params=query_params, headers=headers,
+                                                          allow_redirects=allow_redirects)
 
         return response, url
 
     @exception_safe(ConnectionError)
     def _fetch_request(self, method, path, log_request=True):
         if log_request:
             self.log_request(method, path)
@@ -702,18 +704,19 @@
     # ######################################################
     # VIDEO
     # ######################################################
 
     def start_video_processing(self, tenant_id, domain_id, bucket_id, object_id, rule_id):
         path = "/tenants/{}/domains/{}/buckets/{}/video-processing/{}".format(
             tenant_id, domain_id, bucket_id, object_id)
-        response, url = self._mgmt_request("PUT", path, query_params={'rule': rule_id})
+
+        response, url = self._mgmt_request("PUT", path, query_params={'rule': rule_id}, allow_redirects=False)
         result = self._http_client.get_result_from_response(response)
         self._http_client.validate_result(result, url, [202, 303])
-        return result["content"]
+        return result
 
     def video_processing_status(self, tenant_id, domain_id, bucket_id, object_id, rule_id):
         path = "/tenants/{}/domains/{}/buckets/{}/video-processing/{}".format(
             tenant_id, domain_id, bucket_id, object_id)
         response, url = self._mgmt_request("GET", path, query_params={'rule': rule_id})
         result = self._http_client.get_result_from_response(response)
         self._http_client.validate_result(result, url, [200])
```

## Comparing `yams_cli-3.3.4.dist-info/METADATA` & `yams_cli-3.3.5.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: yams-cli
-Version: 3.3.4
+Version: 3.3.5
 Summary: Yams CLI 
 Author: Team Edge
 Author-email: infrastructure-platform-edge@adevinta.com
 Classifier: Programming Language :: Python :: 3.7
 Description-Content-Type: text/markdown
 Requires-Dist: requests (==2.31.0)
 Requires-Dist: configparser (==5.3.0)
```

## Comparing `yams_cli-3.3.4.dist-info/RECORD` & `yams_cli-3.3.5.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,20 +1,20 @@
 yams_cli/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 yams_cli/connection_specs.py,sha256=Ky-C-GEtasrkDCnQc4gy9aU1aIwtDWO_KjApqm32zVE,1256
 yams_cli/profile.py,sha256=zxk4K6imy750LrFf9DAvuA-FlEwlmJEK6OVuQh9SShE,4590
 yams_cli/utils.py,sha256=9HnYlYJYQZumOIkj1Dk8X2TpkZysbXxaloGZY7Jz0X8,7246
 yams_cli/logic/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 yams_cli/logic/args.py,sha256=eizbwi7A1vK_hpPZS6WCmExCiolIqmigrif0VofhjrU,40535
 yams_cli/logic/cli.py,sha256=B3VJvlW20KxJui5HIOq9VoL008ydV1GauS9fRTurTuM,1944
-yams_cli/logic/dispatcher.py,sha256=i7CY0MEQmmoHfX7T6TvLSadgmPKVIiRZtSWtrsf0Nps,40382
+yams_cli/logic/dispatcher.py,sha256=Eb6un9WlNnYatI7-U57YKWgsOO-Vd_2O-_k9N0lfqow,40760
 yams_cli/logic/injection.py,sha256=M_H2aTxLCdGaCSled8LCQxZVyFT7n2zoISIxXe4L8lw,1326
 yams_cli/logic/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli/logic/core/http_client.py,sha256=dS8v8IgfriAsw1pcMfmVR6TPhB1e-SfNuJP1RlcmbVA,7917
-yams_cli/logic/core/manager.py,sha256=fDRbmB-BOjep3jKK4O57bIxmg3URuMgYlIchk8cgugg,41049
+yams_cli/logic/core/http_client.py,sha256=e5oCluCW0RvDBRcgiiiFw08sA2gklVwdZk4juLkyqSM,8186
+yams_cli/logic/core/manager.py,sha256=TkcPLbOZK0PrczYGCLslhKG8xo6_wXzYuUxDIDXY45c,41176
 yams_cli/logic/core/models.py,sha256=Ow6HjtDIZeCnSXhQCeDSe5NmPfxVRYEg4qR4eos7mQ4,1124
 yams_cli/logic/exceptions/YamsException.py,sha256=VseM49ggqCG4TzhToEGFlQndKII7oPlyN3rmaL7fqvk,828
 yams_cli/logic/exceptions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-yams_cli-3.3.4.dist-info/METADATA,sha256=pv2UTjftk0JYpaTTpptpQZeWvPQ3qjTMzoyZrRZ2kms,9848
-yams_cli-3.3.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-yams_cli-3.3.4.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
-yams_cli-3.3.4.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
-yams_cli-3.3.4.dist-info/RECORD,,
+yams_cli-3.3.5.dist-info/METADATA,sha256=XUwflVe8AFMCjSqQ8h1-zptuUmV_QdTPAWDg_Qz_IMs,9848
+yams_cli-3.3.5.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+yams_cli-3.3.5.dist-info/entry_points.txt,sha256=DbyTPLf9AYYfczTwfiqaMQavTPyy_s68Fteo32GzHCA,49
+yams_cli-3.3.5.dist-info/top_level.txt,sha256=cmdesC2KvC8Q2oXndWeUp2cGKyqItFXMTModo3oU6oc,9
+yams_cli-3.3.5.dist-info/RECORD,,
```

