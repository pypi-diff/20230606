# Comparing `tmp/neon_skill_support_helper-0.2.2a2-py3-none-any.whl.zip` & `tmp/neon_skill_support_helper-0.2.2a3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,42 +1,42 @@
-Zip file size: 22869 bytes, number of entries: 40
--rw-r--r--  2.0 unx     1635 b- defN 23-Jun-06 00:18 skill_support_helper/LICENSE.md
--rw-r--r--  2.0 unx      936 b- defN 23-Jun-06 00:18 skill_support_helper/README.md
--rw-r--r--  2.0 unx     9970 b- defN 23-Jun-06 00:18 skill_support_helper/__init__.py
--rw-r--r--  2.0 unx     1488 b- defN 23-Jun-06 00:18 skill_support_helper/skill.json
--rw-r--r--  2.0 unx     1856 b- defN 23-Jun-06 00:18 skill_support_helper/version.py
--rw-r--r--  2.0 unx       97 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/ask_description.dialog
--rw-r--r--  2.0 unx       21 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/cancelled.dialog
--rw-r--r--  2.0 unx      139 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/complete.dialog
--rw-r--r--  2.0 unx      194 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/confirm_support.dialog
--rw-r--r--  2.0 unx        9 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/email_signature.dialog
--rw-r--r--  2.0 unx       36 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/email_title.dialog
--rw-r--r--  2.0 unx       32 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/one_moment.dialog
--rw-r--r--  2.0 unx        8 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/support.dialog
--rw-r--r--  2.0 unx       33 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/dialog/yes.list
--rw-r--r--  2.0 unx      199 b- defN 23-Jun-06 00:18 skill_support_helper/locale/de-de/vocab/contact_support.intent
--rw-r--r--  2.0 unx       57 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/ask_description.dialog
--rw-r--r--  2.0 unx       28 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/cancelled.dialog
--rw-r--r--  2.0 unx       59 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/complete.dialog
--rw-r--r--  2.0 unx       89 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/confirm_support.dialog
--rw-r--r--  2.0 unx       64 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/email_error.dialog
--rw-r--r--  2.0 unx      137 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/email_intro.dialog
--rw-r--r--  2.0 unx        9 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/email_signature.dialog
--rw-r--r--  2.0 unx       19 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/email_title.dialog
--rw-r--r--  2.0 unx      152 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/no_email.dialog
--rw-r--r--  2.0 unx       26 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/one_moment.dialog
--rw-r--r--  2.0 unx        8 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/dialog/support.dialog
--rw-r--r--  2.0 unx      193 b- defN 23-Jun-06 00:18 skill_support_helper/locale/en-us/intent/contact_support.intent
--rw-r--r--  2.0 unx     1211 b- defN 23-Jun-06 00:19 skill_support_helper/neon_skill_support_helper.egg-info/PKG-INFO
--rw-r--r--  2.0 unx     1234 b- defN 23-Jun-06 00:19 skill_support_helper/neon_skill_support_helper.egg-info/SOURCES.txt
--rw-r--r--  2.0 unx        1 b- defN 23-Jun-06 00:19 skill_support_helper/neon_skill_support_helper.egg-info/dependency_links.txt
--rw-r--r--  2.0 unx       90 b- defN 23-Jun-06 00:19 skill_support_helper/neon_skill_support_helper.egg-info/entry_points.txt
--rw-r--r--  2.0 unx       44 b- defN 23-Jun-06 00:19 skill_support_helper/neon_skill_support_helper.egg-info/requires.txt
--rw-r--r--  2.0 unx       21 b- defN 23-Jun-06 00:19 skill_support_helper/neon_skill_support_helper.egg-info/top_level.txt
--rw-r--r--  2.0 unx    12258 b- defN 23-Jun-06 00:18 skill_support_helper/test/test_skill.py
--rw-r--r--  2.0 unx     1635 b- defN 23-Jun-06 00:19 neon_skill_support_helper-0.2.2a2.dist-info/LICENSE.md
--rw-r--r--  2.0 unx     1291 b- defN 23-Jun-06 00:19 neon_skill_support_helper-0.2.2a2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-06 00:19 neon_skill_support_helper-0.2.2a2.dist-info/WHEEL
--rw-r--r--  2.0 unx       90 b- defN 23-Jun-06 00:19 neon_skill_support_helper-0.2.2a2.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       21 b- defN 23-Jun-06 00:19 neon_skill_support_helper-0.2.2a2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4397 b- defN 23-Jun-06 00:19 neon_skill_support_helper-0.2.2a2.dist-info/RECORD
-40 files, 39879 bytes uncompressed, 15351 bytes compressed:  61.5%
+Zip file size: 23622 bytes, number of entries: 40
+-rw-r--r--  2.0 unx     1635 b- defN 23-Jun-06 01:03 skill_support_helper/LICENSE.md
+-rw-r--r--  2.0 unx      936 b- defN 23-Jun-06 01:03 skill_support_helper/README.md
+-rw-r--r--  2.0 unx    11391 b- defN 23-Jun-06 01:03 skill_support_helper/__init__.py
+-rw-r--r--  2.0 unx     1520 b- defN 23-Jun-06 01:03 skill_support_helper/skill.json
+-rw-r--r--  2.0 unx     1856 b- defN 23-Jun-06 01:03 skill_support_helper/version.py
+-rw-r--r--  2.0 unx       97 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/ask_description.dialog
+-rw-r--r--  2.0 unx       21 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/cancelled.dialog
+-rw-r--r--  2.0 unx      139 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/complete.dialog
+-rw-r--r--  2.0 unx      194 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/confirm_support.dialog
+-rw-r--r--  2.0 unx        9 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/email_signature.dialog
+-rw-r--r--  2.0 unx       36 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/email_title.dialog
+-rw-r--r--  2.0 unx       32 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/one_moment.dialog
+-rw-r--r--  2.0 unx        8 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/support.dialog
+-rw-r--r--  2.0 unx       33 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/dialog/yes.list
+-rw-r--r--  2.0 unx      199 b- defN 23-Jun-06 01:03 skill_support_helper/locale/de-de/vocab/contact_support.intent
+-rw-r--r--  2.0 unx       57 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/ask_description.dialog
+-rw-r--r--  2.0 unx       28 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/cancelled.dialog
+-rw-r--r--  2.0 unx       59 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/complete.dialog
+-rw-r--r--  2.0 unx       89 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/confirm_support.dialog
+-rw-r--r--  2.0 unx       64 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/email_error.dialog
+-rw-r--r--  2.0 unx      137 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/email_intro.dialog
+-rw-r--r--  2.0 unx        9 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/email_signature.dialog
+-rw-r--r--  2.0 unx       19 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/email_title.dialog
+-rw-r--r--  2.0 unx      152 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/no_email.dialog
+-rw-r--r--  2.0 unx       26 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/one_moment.dialog
+-rw-r--r--  2.0 unx        8 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/dialog/support.dialog
+-rw-r--r--  2.0 unx      193 b- defN 23-Jun-06 01:03 skill_support_helper/locale/en-us/intent/contact_support.intent
+-rw-r--r--  2.0 unx     1211 b- defN 23-Jun-06 01:03 skill_support_helper/neon_skill_support_helper.egg-info/PKG-INFO
+-rw-r--r--  2.0 unx     1234 b- defN 23-Jun-06 01:03 skill_support_helper/neon_skill_support_helper.egg-info/SOURCES.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-Jun-06 01:03 skill_support_helper/neon_skill_support_helper.egg-info/dependency_links.txt
+-rw-r--r--  2.0 unx       90 b- defN 23-Jun-06 01:03 skill_support_helper/neon_skill_support_helper.egg-info/entry_points.txt
+-rw-r--r--  2.0 unx       61 b- defN 23-Jun-06 01:03 skill_support_helper/neon_skill_support_helper.egg-info/requires.txt
+-rw-r--r--  2.0 unx       21 b- defN 23-Jun-06 01:03 skill_support_helper/neon_skill_support_helper.egg-info/top_level.txt
+-rw-r--r--  2.0 unx    14193 b- defN 23-Jun-06 01:03 skill_support_helper/test/test_skill.py
+-rw-r--r--  2.0 unx     1635 b- defN 23-Jun-06 01:03 neon_skill_support_helper-0.2.2a3.dist-info/LICENSE.md
+-rw-r--r--  2.0 unx     1326 b- defN 23-Jun-06 01:03 neon_skill_support_helper-0.2.2a3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-06 01:03 neon_skill_support_helper-0.2.2a3.dist-info/WHEEL
+-rw-r--r--  2.0 unx       90 b- defN 23-Jun-06 01:03 neon_skill_support_helper-0.2.2a3.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       21 b- defN 23-Jun-06 01:03 neon_skill_support_helper-0.2.2a3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4398 b- defN 23-Jun-06 01:03 neon_skill_support_helper-0.2.2a3.dist-info/RECORD
+40 files, 43320 bytes uncompressed, 16104 bytes compressed:  62.8%
```

## zipnote {}

```diff
@@ -96,26 +96,26 @@
 
 Filename: skill_support_helper/neon_skill_support_helper.egg-info/top_level.txt
 Comment: 
 
 Filename: skill_support_helper/test/test_skill.py
 Comment: 
 
-Filename: neon_skill_support_helper-0.2.2a2.dist-info/LICENSE.md
+Filename: neon_skill_support_helper-0.2.2a3.dist-info/LICENSE.md
 Comment: 
 
-Filename: neon_skill_support_helper-0.2.2a2.dist-info/METADATA
+Filename: neon_skill_support_helper-0.2.2a3.dist-info/METADATA
 Comment: 
 
-Filename: neon_skill_support_helper-0.2.2a2.dist-info/WHEEL
+Filename: neon_skill_support_helper-0.2.2a3.dist-info/WHEEL
 Comment: 
 
-Filename: neon_skill_support_helper-0.2.2a2.dist-info/entry_points.txt
+Filename: neon_skill_support_helper-0.2.2a3.dist-info/entry_points.txt
 Comment: 
 
-Filename: neon_skill_support_helper-0.2.2a2.dist-info/top_level.txt
+Filename: neon_skill_support_helper-0.2.2a3.dist-info/top_level.txt
 Comment: 
 
-Filename: neon_skill_support_helper-0.2.2a2.dist-info/RECORD
+Filename: neon_skill_support_helper-0.2.2a3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## skill_support_helper/__init__.py

```diff
@@ -22,20 +22,23 @@
 # EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 # PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 # OR PROFITS;  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 # LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE,  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-import json
+import sys
+import yaml
 
 from copy import deepcopy
 from datetime import datetime
 from glob import glob
 from os.path import join, basename, getsize
+from subprocess import run
+from tempfile import mkdtemp
 
 from mycroft_bus_client import Message
 from neon_utils.user_utils import get_user_prefs
 from neon_utils.skills.neon_skill import NeonSkill
 from neon_utils.net_utils import get_ip_address
 from neon_utils.file_utils import encode_file_to_base64_string
 from neon_utils.parse_utils import validate_email
@@ -84,15 +87,16 @@
                           {"email": email_addr}) == "yes":
             if user_profile["response_mode"].get("hesitation"):
                 self.speak_dialog("one_moment", private=True)
             diagnostic_info = self._get_support_info(message, user_profile)
             user_description = self.get_response("ask_description",
                                                  num_retries=0)
             diagnostic_info["user_description"] = user_description
-            attachment_files = self._parse_attachments(self._get_log_files())
+            attachment_files = self._parse_attachments(
+                self._get_attachments(diagnostic_info))
             if self.send_email(self.translate("email_title"),
                                self._format_email_body(diagnostic_info),
                                message, email_addr,
                                attachments=attachment_files):
                 self.speak_dialog("complete",
                                   {"email": email_addr},
                                   private=True)
@@ -127,42 +131,48 @@
                     LOG.info(f"{file} is >1MB, truncating")
                     with open(file, 'r+') as f:
                         lines = f.readlines()
                         f.seek(0)
                         f.writelines(lines[-50000:])
                         f.truncate()
 
-                attachments[basename(file)] = encode_file_to_base64_string(file)
+                attachments[basename(file).replace('.log', '_log.txt')] = \
+                    encode_file_to_base64_string(file)
             except Exception as e:
                 LOG.exception(e)
         return attachments
 
     def _format_email_body(self, diagnostics: dict) -> str:
         """
         Format the diagnostic data with email dialog and return a string body
         :param diagnostics: diagnostic data to format into the email
         :returns: email body to send
         """
-        json_str = json.dumps(diagnostics, indent=4)
         return '\n\n'.join((self.translate("email_intro",
                                            {"email": self.support_email}),
-                            json_str,
+                            diagnostics.get('user_description') or
+                            "No Description Provided",
                             self.translate("email_signature")))
 
     def _check_service_status(self, message: Message = None) -> dict:
         """
         Query services on the messagebus and report back their status
         """
         message = message or Message("get_status")
 
         speech_module = self.bus.wait_for_response(
             message.forward("mycroft.speech.is_ready"))
         speech_status = speech_module.data.get("status") if speech_module \
             else None
 
+        voice_module = self.bus.wait_for_response(
+            message.forward("mycroft.voice.is_ready"))
+        voice_status = voice_module.data.get("status") if voice_module \
+            else None
+
         audio_module = self.bus.wait_for_response(
             message.forward("mycroft.audio.is_ready"))
         audio_status = audio_module.data.get("status") if audio_module \
             else None
 
         skills_module = self.bus.wait_for_response(
             message.forward("mycroft.skills.is_ready"))
@@ -183,14 +193,15 @@
         admin_module = self.bus.wait_for_response(
             message.forward("mycroft.PHAL.admin.is_ready")
         )
         admin_status = admin_module.data.get("status") if admin_module \
             else None
 
         return {"speech": speech_status,
+                "voice": voice_status,
                 "audio": audio_status,
                 "skills": skills_status,
                 "gui": gui_status,
                 "enclosure": enclosure_status,
                 "admin": admin_status}
 
     @staticmethod
@@ -211,23 +222,48 @@
 
         loaded_skills = self.bus.wait_for_response(
             message.forward("skillmanager.list"), "mycroft.skills.list"
         )
         loaded_skills = loaded_skills.data if loaded_skills else None
 
         core_device_ip = get_ip_address()
-
+        packages = run([sys.executable, "-m", "pip", "list"],
+                       capture_output=True).stdout.decode()
         return {
             "user_profile": user_profile,
             "message_context": message_context,
             "module_status": self._check_service_status(message),
             "loaded_skills": loaded_skills,
+            "packages": packages,
             "host_device": {"ip": core_device_ip},
             "generated_time_utc": datetime.utcnow().isoformat()
         }
 
+    def _get_attachments(self, info: dict) -> list:
+        """
+        Parse dict information into attachment files for a support email
+        :param info: diagnostic information to parse into attachments
+        :returns: list of output attachment files
+        """
+        att_files = self._get_log_files()
+        tempdir = mkdtemp()
+        packages_file = join(tempdir, "python_packages.txt")
+        diagnostics_file = join(tempdir, "diagnostics.txt")
+
+        # Add `pip list` output to its own file
+        with open(packages_file, 'w+') as f:
+            f.write(info.pop('packages', ""))
+        att_files.append(packages_file)
+
+        # Dump gathered diagnostics to separate file
+        with open(diagnostics_file, 'w+') as f:
+            yaml.dump(info, f)
+        att_files.append(diagnostics_file)
+
+        return att_files
+
     def stop(self):
         pass
 
 
 def create_skill():
     return SupportSkill()
```

## skill_support_helper/skill.json

### Pretty-printed

 * *Similarity: 0.998792270531401%*

 * *Differences: {"'requirements'": "{'python': {insert: [(2, 'pyyaml>=5.4,<7.0')]}}"}*

```diff
@@ -24,15 +24,16 @@
         "ia64",
         "arm64",
         "arm"
     ],
     "requirements": {
         "python": [
             "neon-utils[network]~=1.3",
-            "ovos_utils~=0.0.28"
+            "ovos_utils~=0.0.28",
+            "pyyaml>=5.4,<7.0"
         ],
         "skill": [],
         "system": {}
     },
     "short_description": "Get diagnostic information sent via email.",
     "skillname": "skill-support_helper",
     "summary": "Get diagnostic information sent via email.",
```

## skill_support_helper/version.py

```diff
@@ -22,8 +22,8 @@
 # EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 # PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 # OR PROFITS;  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 # LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE,  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-__version__ = "0.2.2a2"
+__version__ = "0.2.2a3"
```

## skill_support_helper/neon_skill_support_helper.egg-info/PKG-INFO

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: neon-skill-support-helper
-Version: 0.2.2a2
+Version: 0.2.2a3
 Home-page: https://github.com/NeonGeckoCom/skill-support_helper
 Author: Neongecko
 Author-email: developers@neon.ai
 License: BSD-3-Clause
 Description-Content-Type: text/markdown
 License-File: LICENSE.md
```

## skill_support_helper/neon_skill_support_helper.egg-info/requires.txt

```diff
@@ -1,2 +1,3 @@
 neon-utils[network]~=1.3
 ovos_utils~=0.0.28
+pyyaml<7.0,>=5.4
```

## skill_support_helper/test/test_skill.py

```diff
@@ -149,23 +149,31 @@
         self.skill.speak_dialog.assert_called_with("email_error",
                                                    private=True)
 
         self.skill._get_support_info = real_get_support_info
         self.skill._parse_attachments = real_parse_attachments
 
     def test_format_email_body(self):
-        import json
-
         test_diagnostics = {"user_profile": "testing",
                             "module_status": {"module": None}}
+        # No description
         body = self.skill._format_email_body(test_diagnostics)
         parts = body.split('\n\n')
         self.assertEqual(len(parts), 3)
         self.assertIn(self.skill.support_email, parts[0])
-        self.assertEqual(json.loads(parts[1]), test_diagnostics)
+        self.assertEqual(parts[1], "No Description Provided")
+        self.assertEqual(parts[2], "- Neon AI")
+
+        # User description provided
+        test_diagnostics['user_description'] = "testing diagnostics"
+        body = self.skill._format_email_body(test_diagnostics)
+        parts = body.split('\n\n')
+        self.assertEqual(len(parts), 3)
+        self.assertIn(self.skill.support_email, parts[0])
+        self.assertEqual(parts[1], test_diagnostics['user_description'])
         self.assertEqual(parts[2], "- Neon AI")
 
     def test_get_log_files(self):
         from ovos_utils.log import LOG
         test_dir = join(dirname(__file__), "logs")
         real_path = LOG.base_path
         LOG.base_path = test_dir
@@ -180,22 +188,24 @@
         os.remove(join(test_dir, "neon-utils.log"))
 
     def test_parse_attachments(self):
         from neon_utils.file_utils import decode_base64_string_to_file
         test_dir = join(dirname(__file__), "logs")
         log_files = [join(test_dir, "audio.log"), join(test_dir, "skills.log")]
         parsed = self.skill._parse_attachments(log_files)
-        self.assertEqual(set(parsed.keys()), {'audio.log', 'skills.log'})
+        self.assertEqual(set(parsed.keys()),
+                         {'audio_log.txt', 'skills_log.txt'})
         for file, log in parsed.items():
             self.assertIsInstance(log, str)
             test_log_file = join(test_dir, f"test_{file}")
             decode_base64_string_to_file(log, test_log_file)
             with open(test_log_file, 'r') as f:
                 test_output = f.read()
-            with open(join(test_dir, file), 'r') as f:
+            with open(join(test_dir, file.replace('_log.txt',
+                                                  '.log')), 'r') as f:
                 self.assertEqual(f.read(), test_output)
             os.remove(test_log_file)
 
         # Test truncated log
         from uuid import uuid4
         test_file = join(test_dir, "truncate.log")
         i = 0
@@ -205,15 +215,15 @@
             for i in range(100000):
                 f.write(f'{i} - {line}\n')
         input_size = int(getsize(test_file))
         self.assertTrue(input_size > 1000000)
         parsed = self.skill._parse_attachments([test_file])
         file = list(parsed.keys())[0]
         log = list(parsed.values())[0]
-        self.assertEqual(file, "truncate.log")
+        self.assertEqual(file, "truncate_log.txt")
         self.assertIsInstance(log, str)
         test_outfile = join(test_dir, "test_truncate.log")
         decode_base64_string_to_file(log, test_outfile)
         with open(test_file, 'r') as f:
             original = f.readlines()
         with open(test_outfile, 'r') as f:
             truncated = f.readlines()
@@ -235,23 +245,50 @@
         test_message = Message("test", {"utterance": "This is a test"},
                                {"klat_data": True, "username": "test_user",
                                 "user_profiles": [user_config]})
         # No modules respond
         diagnostics = self.skill._get_support_info(test_message)
         diag_time = diagnostics["generated_time_utc"]
         self.assertIsInstance(datetime.fromisoformat(diag_time), datetime)
+        pip_info = diagnostics["packages"]
+        self.assertIsInstance(pip_info, str)
         self.assertEqual(diagnostics, {"user_profile": user_config,
                                        "message_context": test_message.context,
                                        "module_status": {"speech": None,
                                                          "audio": None,
+                                                         "voice": None,
                                                          "skills": None,
                                                          "gui": None,
                                                          "enclosure": None,
                                                          "admin": None},
                                        "loaded_skills": None,
                                        "host_device": {"ip": get_ip_address()},
-                                       "generated_time_utc": diag_time
+                                       "generated_time_utc": diag_time,
+                                       "packages": pip_info
                                        })
 
+    def test_get_attachments(self):
+        real_status = self.skill._check_service_status
+        self.skill._check_service_status = Mock(return_value={'test': True})
+
+        test_message = Message("test", {}, {"content": "something",
+                                            "context": True})
+        test_profile = {"user": {"username": "test_user"},
+                        "data": {"key": "val"}}
+
+        content = self.skill._get_support_info(test_message, test_profile)
+        self.assertEqual(set(content.keys()),
+                         {'user_profile', 'message_context', 'module_status',
+                          'loaded_skills', 'packages', 'host_device',
+                          'generated_time_utc'})
+        self.assertEqual(content['user_profile'], test_profile)
+        self.assertEqual(content['message_context'], test_message.context)
+        self.assertEqual(content['module_status'], {'test': True})
+        self.assertIsInstance(content['packages'], str)
+        self.assertIsInstance(content['host_device']['ip'], str)
+        self.assertIsInstance(content['generated_time_utc'], str)
+
+        self.skill._check_service_status = real_status
+
 
 if __name__ == '__main__':
     unittest.main()
```

## Comparing `neon_skill_support_helper-0.2.2a2.dist-info/LICENSE.md` & `neon_skill_support_helper-0.2.2a3.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `neon_skill_support_helper-0.2.2a2.dist-info/METADATA` & `neon_skill_support_helper-0.2.2a3.dist-info/METADATA`

 * *Files 6% similar despite different names*

```diff
@@ -1,18 +1,19 @@
 Metadata-Version: 2.1
 Name: neon-skill-support-helper
-Version: 0.2.2a2
+Version: 0.2.2a3
 Home-page: https://github.com/NeonGeckoCom/skill-support_helper
 Author: Neongecko
 Author-email: developers@neon.ai
 License: BSD-3-Clause
 Description-Content-Type: text/markdown
 License-File: LICENSE.md
 Requires-Dist: neon-utils[network] (~=1.3)
 Requires-Dist: ovos-utils (~=0.0.28)
+Requires-Dist: pyyaml (<7.0,>=5.4)
 
 # <img src='https://raw.githack.com/FortAwesome/Font-Awesome/master/svgs/solid/life-ring.svg' card_color="#FF8600" width="50" style="vertical-align:bottom">Support Helper
   
 ## Summary  
 Get diagnostic information sent via email.
 
 ## Description
```

## Comparing `neon_skill_support_helper-0.2.2a2.dist-info/RECORD` & `neon_skill_support_helper-0.2.2a3.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 skill_support_helper/LICENSE.md,sha256=KxXbLh0XZkaLbNrj5ksC1Hl04EeiMbY-I0pGhKTPBRc,1635
 skill_support_helper/README.md,sha256=R3jP1lFmFCpnyJGgiI1wLVKWWo4-cFaKAb6-f-1WYZY,936
-skill_support_helper/__init__.py,sha256=IcKx9YqcRTSA0-v_uUxMiJfk_JE6abORKptwGHy6qDI,9970
-skill_support_helper/skill.json,sha256=JICyLAw8li12Fx3jGob2yaWoZrtdHGY6NyFkhInTNjU,1488
-skill_support_helper/version.py,sha256=j_dQ6LiV2X_QkK77uC_RyDxUS6ZBfnTBa1xPNv9t51k,1856
+skill_support_helper/__init__.py,sha256=UjC3zOQNnNSgoej0IBdLcVo3ZwdWYb0CYbaZHD3kVT8,11391
+skill_support_helper/skill.json,sha256=l5wS8HRuvfp3QCn_hpqdOPnARw1PaBTC-eD1UzsMzjo,1520
+skill_support_helper/version.py,sha256=3dS-TjjVscZEDki3ucUzxmOivAXygtCt_E9uXbfJ-J4,1856
 skill_support_helper/locale/de-de/dialog/ask_description.dialog,sha256=W8nTSD23QXU2wGVOGH_WVk3Zpr7Ump2GhGDV-wbA6p8,97
 skill_support_helper/locale/de-de/dialog/cancelled.dialog,sha256=j_p6Fyh5kmBTTcC629wt3HsYjRFhHiPSp_yz9Cpts3A,21
 skill_support_helper/locale/de-de/dialog/complete.dialog,sha256=mj-lPnrMYzOpcWgwFVYhRnNWA57c-x5235fsqSRY-hE,139
 skill_support_helper/locale/de-de/dialog/confirm_support.dialog,sha256=X250iZhO7BPgMXt-G9Wpn6mxPILOmCzjjAVNi0X-eBI,194
 skill_support_helper/locale/de-de/dialog/email_signature.dialog,sha256=S5jgfoiDjq43z7T7F9Cy9ICnEyPpA8z83RzPlTIbBcI,9
 skill_support_helper/locale/de-de/dialog/email_title.dialog,sha256=BXjgASXpLthPIYVdUTICTPqOXffp1IJtcF9FW2Zka6c,36
 skill_support_helper/locale/de-de/dialog/one_moment.dialog,sha256=zqBVMNLhV7FqBXbq_pbmaVTZnvQ9iSQqEocMMIwR9vg,32
@@ -21,20 +21,20 @@
 skill_support_helper/locale/en-us/dialog/email_intro.dialog,sha256=sx7QuFHIFDtB-ih0qEKs231OYYeNwN6ULmWhzI42_lI,137
 skill_support_helper/locale/en-us/dialog/email_signature.dialog,sha256=S5jgfoiDjq43z7T7F9Cy9ICnEyPpA8z83RzPlTIbBcI,9
 skill_support_helper/locale/en-us/dialog/email_title.dialog,sha256=JYvG9xQZR-dT7Eq7fIVzE5E7br6duJ3040RyblvLo0U,19
 skill_support_helper/locale/en-us/dialog/no_email.dialog,sha256=Pr6Nzy1ogLp4SNN2RDqfSdamn_davp8RtiiFznYybak,152
 skill_support_helper/locale/en-us/dialog/one_moment.dialog,sha256=sesAIXJpZqmy1jSOjjXfcgyVbZUocJFMQQhgRvZwIhs,26
 skill_support_helper/locale/en-us/dialog/support.dialog,sha256=wFtWq209B8zKZ3jr15m_mN-it_EN1DYB8JOPBOUHCHg,8
 skill_support_helper/locale/en-us/intent/contact_support.intent,sha256=Ks98OBgIUYCs6iyiFgnsnBJilqnsr-tXh8NA6v4p1nc,193
-skill_support_helper/neon_skill_support_helper.egg-info/PKG-INFO,sha256=bkfh1CEB8VS-C-xoVVzjDUXpEFHk-jDxT0Q9t6v9F_4,1211
+skill_support_helper/neon_skill_support_helper.egg-info/PKG-INFO,sha256=vPOqumRSr5hXMQqAzibVPoTzk3aM1JvjQ2lYppbG0oM,1211
 skill_support_helper/neon_skill_support_helper.egg-info/SOURCES.txt,sha256=t0ADUrt9AeA_T3961jQuDl_GvrXAutk_kjvXVACwLjw,1234
 skill_support_helper/neon_skill_support_helper.egg-info/dependency_links.txt,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
 skill_support_helper/neon_skill_support_helper.egg-info/entry_points.txt,sha256=lbCvfp3E6XcCunO7SFNvVG_qWOw-dkt5Xg_OnFX3GIw,90
-skill_support_helper/neon_skill_support_helper.egg-info/requires.txt,sha256=Frk7ZwLYuLl5Aptpy8-hgg52ZvCqNvS-C27ukP3Vlx8,44
+skill_support_helper/neon_skill_support_helper.egg-info/requires.txt,sha256=ZQeckkAppQpknvezurXX-nYLs04_rVQ16RF3cTYfzGo,61
 skill_support_helper/neon_skill_support_helper.egg-info/top_level.txt,sha256=mmqJ0I0ysKrQtHRUueg8PEekASmcuN-S7UKBwyP_N24,21
-skill_support_helper/test/test_skill.py,sha256=v53drcJlgjhczOJ84dq29jEcZq-Ne_oztZ7fBZTMqlo,12258
-neon_skill_support_helper-0.2.2a2.dist-info/LICENSE.md,sha256=KxXbLh0XZkaLbNrj5ksC1Hl04EeiMbY-I0pGhKTPBRc,1635
-neon_skill_support_helper-0.2.2a2.dist-info/METADATA,sha256=50LRuOoyb9EgONIzzxoH4e6KklI-7oVvwJORyOFwkqM,1291
-neon_skill_support_helper-0.2.2a2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-neon_skill_support_helper-0.2.2a2.dist-info/entry_points.txt,sha256=lbCvfp3E6XcCunO7SFNvVG_qWOw-dkt5Xg_OnFX3GIw,90
-neon_skill_support_helper-0.2.2a2.dist-info/top_level.txt,sha256=mmqJ0I0ysKrQtHRUueg8PEekASmcuN-S7UKBwyP_N24,21
-neon_skill_support_helper-0.2.2a2.dist-info/RECORD,,
+skill_support_helper/test/test_skill.py,sha256=PrwGCMgT3pXNb6gK0Oat6lSi8lIEzKgswliy98M1in4,14193
+neon_skill_support_helper-0.2.2a3.dist-info/LICENSE.md,sha256=KxXbLh0XZkaLbNrj5ksC1Hl04EeiMbY-I0pGhKTPBRc,1635
+neon_skill_support_helper-0.2.2a3.dist-info/METADATA,sha256=jCLwuUkfEvgV08g9jpGniTds-KhdmXhL-ADtO1KSq5Y,1326
+neon_skill_support_helper-0.2.2a3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+neon_skill_support_helper-0.2.2a3.dist-info/entry_points.txt,sha256=lbCvfp3E6XcCunO7SFNvVG_qWOw-dkt5Xg_OnFX3GIw,90
+neon_skill_support_helper-0.2.2a3.dist-info/top_level.txt,sha256=mmqJ0I0ysKrQtHRUueg8PEekASmcuN-S7UKBwyP_N24,21
+neon_skill_support_helper-0.2.2a3.dist-info/RECORD,,
```

